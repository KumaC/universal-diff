/*! universal-diff v2.0.0 | nighca(nighca@live.cn) | Apache License(2.0) */
!function(t){var n=0,r=1,e=2,f=3,o=-1,u=0,c=function(t,n){return t===n},l=function(t,r,i){var o=t.length,u=r.length,l=o+u,s=Array.apply(null,{length:u+o+1}).map(function(){return[]}),a=[],h=-1;i=i||c,a[l+1]=0;for(var p=0;l>=p&&-1===h;p++)for(var g,j,v,d=-p;p>=d&&-1===h;d+=2){for(d===-p||d!==p&&a[d-1+l]<a[d+1+l]?(g=a[d+1+l],v=f):(g=a[d-1+l]+1,v=e),j=g-d,s[g][j]=v;o>g&&u>j&&i(t[g],r[j]);)g++,j++,s[g][j]=n;a[d+l]=g,g>=o&&j>=u&&(h=p)}return s},s=l,a=function(t,i,c){for(var l=t.length,s=i.length,a=[],h=[],p=l,g=s;p>0||g>0;)switch(c[p][g]){case n:a.unshift(t[p-1]),h.unshift(u),p-=1,g-=1;break;case r:a.unshift(t[p-1]),h.unshift(i[g-1]),p-=1,g-=1;break;case e:a.unshift(t[p-1]),h.unshift(o),p-=1,g-=0;break;case f:a.unshift(o),h.unshift(i[g-1]),p-=0,g-=1}return{src:a,target:h}},h=function(t,n,r){var e,f,c,l=s(t,n,r),h=a(t,n,l),p=h.src,g=h.target,v=g.length,d=function(t){return t!==o},m=[];for(i=v-1;i>=0;){for(j=i;g[j]!==u&&j>=0;j--);i>j&&(e=p.slice(0,j+1).filter(d).length,f=p.slice(j+1,i+1).filter(d).length,c=g.slice(j+1,i+1).filter(d),m.unshift(c.length?[e,f,c]:[e,f])),i=j-1}return m},p=function(t,n){for(var r,e=t.slice(),i=n.length-1;i>=0;i--){r=n[i];var f=r[2];f&&(r=r.slice(0,2).concat(f)),e.splice.apply(e,r)}return e},g=function(t,n,r){r="string"==typeof r?r:"";var e=t.split(r),i=n.split(r),f=h(e,i);return f.forEach(function(t){t[2]&&(t[2]=t[2].join(r))}),{splitter:r,diff:f}},v=function(t,n){for(var r,e=n.splitter,i=n.diff,f=t.split(e),o=i.length-1;o>=0;o--)r=i[o],f.splice.apply(f,r);return f.join(e)},d={coreCompare:s,compare:h,merge:p,compareStr:g,mergeStr:v};"function"==typeof define?define(function(){return d}):"undefined"!=typeof exports?module.exports=d:t.diff=d}(this);